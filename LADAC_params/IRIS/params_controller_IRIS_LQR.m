% ** Parameters of the LQR controller for the quadcopter IRIS **

% Disclamer:
%   SPDX-License-Identifier: GPL-2.0-only
% 
%   Copyright (C) 2020-2022 Yannic Beyer
%   Copyright (C) 2022 TU Braunschweig, Institute of Flight Guidance
% *************************************************************************

% controller sample time 
cntrl.sample_time = 0.0025;

% reference model parameter
cntrl.rm.Phi_max = single(45*pi/180);
cntrl.rm.Theta_max = single(45*pi/180);
cntrl.rm.r_max = single(50*pi/180);
cntrl.rm.w_max = single(4);
% cntrl.sample_time = single(1/100);

cntrl.rm.Phi.omega = 4;
cntrl.rm.Phi.D = 1;
cntrl.rm.Theta.omega = 4;
cntrl.rm.Theta.D = 1;
cntrl.rm.w.T = 0.5;
cntrl.rm.r.T = 1;

% controller gains
cntrl.K = single( [ ...
    0.0846    0.1355   -1.4447    0.2944    0.2995   -0.4760   -0.0100    0.0104   -0.1259    0.0003    0.0003   -0.1000; ...
   -0.0846    0.1355    1.4447   -0.2944    0.2995    0.4760   -0.0100   -0.0104   -0.1259   -0.0003    0.0003   -0.1000; ...
   -0.0774   -0.1355   -1.5886   -0.2684   -0.2995   -0.5229    0.0100   -0.0095   -0.1259   -0.0002   -0.0003   -0.1000; ...
    0.0774   -0.1355    1.5886    0.2684   -0.2995    0.5229    0.0100    0.0095   -0.1259    0.0002   -0.0003   -0.1000 ...
    ] );
cntrl.A_ff = single( [ ...
   -0.0000    0.0000    0.0000         0         0         0    0.0000         0   -0.4254;...
   -0.6027   -0.0000   -0.0000         0         0         0    0.0000         0    0.0000;...
   -0.0000   -0.1152   -0.0000         0         0         0   -0.0000         0   -0.0000;...
   -0.0001   -0.0000   -0.0000         0         0         0   -0.0000         0    0.0000;...
   ] );
cntrl.B_inv = single( [ ...
   -0.0418    0.0062    0.0201   -0.2777;...
   -0.0418   -0.0062    0.0201    0.2777;...
   -0.0418   -0.0062   -0.0201   -0.3055;...
   -0.0418    0.0062   -0.0201    0.3055...
   ] );